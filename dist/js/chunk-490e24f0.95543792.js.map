{"version":3,"sources":["webpack:///./node_modules/vant/es/utils/dom/style.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./src/views/Search/Search.vue?aa77","webpack:///./node_modules/vant/es/list/style/index.js","webpack:///./node_modules/vant/es/list/index.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./src/views/Search/Search.vue?6e7b","webpack:///./node_modules/vant/es/search/index.js","webpack:///src/views/Search/Search.vue","webpack:///./src/views/Search/Search.vue?c4c4","webpack:///./src/views/Search/Search.vue","webpack:///./node_modules/core-js/internals/dom-iterables.js"],"names":["isHidden","el","style","window","getComputedStyle","hidden","display","parentHidden","offsetParent","position","global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","module","exports","callbackfn","this","arguments","length","undefined","_createNamespace","createComponent","bem","t","mixins","bind","scroller","$el","check","model","prop","props","Boolean","loading","finished","errorText","String","loadingText","finishedText","immediateCheck","type","default","offset","Number","direction","data","innerLoading","updated","mounted","watch","methods","_this","$nextTick","scrollerRect","getBoundingClientRect","top","bottom","innerHeight","scrollerHeight","isReachEdge","placeholderRect","$refs","placeholder","$emit","clickErrorText","genLoading","h","$createElement","slots","genFinishedText","text","genErrorText","render","Placeholder","$","target","proto","forced","toPrimitive","definePropertyModule","createPropertyDescriptor","object","key","value","propertyKey","f","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","FORCED","arg","i","k","len","E","A","n","TypeError","toAbsoluteIndex","toInteger","HAS_SPECIES_SUPPORT","ACCESSORS","0","1","max","Math","min","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","splice","start","deleteCount","insertCount","actualDeleteCount","from","to","actualStart","argumentsLength","METHOD_NAME","argument","method","call","_vm","_h","_c","_self","staticClass","attrs","on","searchResult","nativeOn","$event","stopPropagation","searchFocus","callback","$$v","expression","directives","name","rawName","_l","item","index","setSearchResult","_v","_s","_f","searchHistoryNone","clearHistoryItems","searchResultMore","path","query","id","title","author","staticRenderFns","create","Search","ctx","Label","label","Action","showAction","onCancel","action","actionText","fieldData","listeners","keypress","event","keyCode","inheritData","background","left","shape","leftIcon","rightIcon","clearable","clearTrigger","components","member","memberAuth","searchHistoryShow","searchHistoryList","JSON","parse","localStorage","getItem","page","searchResultList","total","computed","watchScroll","$toast","fail","appendKeywords","upSearchResult","removeItem","$store","commit","appendFlag","currentValue","arr","unshift","pop","setItem","stringify","push","getSearchList","that","axios","get","res","status","sototal","list","dispatch","console","log","err","created","document","body","addEventListener","component","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList"],"mappings":"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","file":"js/chunk-490e24f0.95543792.js","sourcesContent":["export function isHidden(el) {\n  var style = window.getComputedStyle(el);\n  var hidden = style.display === 'none'; // offsetParent returns null in the following situations:\n  // 1. The element or its parent element has the display property set to none.\n  // 2. The element has the position property set to fixed\n\n  var parentHidden = el.offsetParent === null && style.position !== 'fixed';\n  return hidden || parentHidden;\n}","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=style&index=0&id=d110bf8c&lang=less&scoped=true&\"","import '../../style/base.css';\nimport '../../loading/index.css';\nimport '../index.css';","// Utils\nimport { createNamespace } from '../utils';\nimport { isHidden } from '../utils/dom/style';\nimport { getScroller } from '../utils/dom/scroll'; // Mixins\n\nimport { BindEventMixin } from '../mixins/bind-event'; // Components\n\nimport Loading from '../loading';\n\nvar _createNamespace = createNamespace('list'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nexport default createComponent({\n  mixins: [BindEventMixin(function (bind) {\n    if (!this.scroller) {\n      this.scroller = getScroller(this.$el);\n    }\n\n    bind(this.scroller, 'scroll', this.check);\n  })],\n  model: {\n    prop: 'loading'\n  },\n  props: {\n    error: Boolean,\n    loading: Boolean,\n    finished: Boolean,\n    errorText: String,\n    loadingText: String,\n    finishedText: String,\n    immediateCheck: {\n      type: Boolean,\n      default: true\n    },\n    offset: {\n      type: [Number, String],\n      default: 300\n    },\n    direction: {\n      type: String,\n      default: 'down'\n    }\n  },\n  data: function data() {\n    return {\n      // use sync innerLoading state to avoid repeated loading in some edge cases\n      innerLoading: this.loading\n    };\n  },\n  updated: function updated() {\n    this.innerLoading = this.loading;\n  },\n  mounted: function mounted() {\n    if (this.immediateCheck) {\n      this.check();\n    }\n  },\n  watch: {\n    loading: 'check',\n    finished: 'check'\n  },\n  methods: {\n    // @exposed-api\n    check: function check() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        if (_this.innerLoading || _this.finished || _this.error) {\n          return;\n        }\n\n        var el = _this.$el,\n            scroller = _this.scroller,\n            offset = _this.offset,\n            direction = _this.direction;\n        var scrollerRect;\n\n        if (scroller.getBoundingClientRect) {\n          scrollerRect = scroller.getBoundingClientRect();\n        } else {\n          scrollerRect = {\n            top: 0,\n            bottom: scroller.innerHeight\n          };\n        }\n\n        var scrollerHeight = scrollerRect.bottom - scrollerRect.top;\n        /* istanbul ignore next */\n\n        if (!scrollerHeight || isHidden(el)) {\n          return false;\n        }\n\n        var isReachEdge = false;\n\n        var placeholderRect = _this.$refs.placeholder.getBoundingClientRect();\n\n        if (direction === 'up') {\n          isReachEdge = scrollerRect.top - placeholderRect.top <= offset;\n        } else {\n          isReachEdge = placeholderRect.bottom - scrollerRect.bottom <= offset;\n        }\n\n        if (isReachEdge) {\n          _this.innerLoading = true;\n\n          _this.$emit('input', true);\n\n          _this.$emit('load');\n        }\n      });\n    },\n    clickErrorText: function clickErrorText() {\n      this.$emit('update:error', false);\n      this.check();\n    },\n    genLoading: function genLoading() {\n      var h = this.$createElement;\n\n      if (this.innerLoading && !this.finished) {\n        return h(\"div\", {\n          \"key\": \"loading\",\n          \"class\": bem('loading')\n        }, [this.slots('loading') || h(Loading, {\n          \"attrs\": {\n            \"size\": \"16\"\n          }\n        }, [this.loadingText || t('loading')])]);\n      }\n    },\n    genFinishedText: function genFinishedText() {\n      var h = this.$createElement;\n\n      if (this.finished) {\n        var text = this.slots('finished') || this.finishedText;\n\n        if (text) {\n          return h(\"div\", {\n            \"class\": bem('finished-text')\n          }, [text]);\n        }\n      }\n    },\n    genErrorText: function genErrorText() {\n      var h = this.$createElement;\n\n      if (this.error) {\n        var text = this.slots('error') || this.errorText;\n\n        if (text) {\n          return h(\"div\", {\n            \"on\": {\n              \"click\": this.clickErrorText\n            },\n            \"class\": bem('error-text')\n          }, [text]);\n        }\n      }\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    var Placeholder = h(\"div\", {\n      \"ref\": \"placeholder\",\n      \"key\": \"placeholder\",\n      \"class\": bem('placeholder')\n    });\n    return h(\"div\", {\n      \"class\": bem(),\n      \"attrs\": {\n        \"role\": \"feed\",\n        \"aria-busy\": this.innerLoading\n      }\n    }, [this.direction === 'down' ? this.slots() : Placeholder, this.genLoading(), this.genFinishedText(), this.genErrorText(), this.direction === 'up' ? this.slots() : Placeholder]);\n  }\n});","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapper\"},[_c('van-nav-bar',{attrs:{\"title\":\"搜索\"}}),_c('div',{staticClass:\"search\"},[_c('div',{staticClass:\"searchBtn\"},[_c('van-search',{attrs:{\"placeholder\":\"请输入搜索关键词\"},on:{\"search\":_vm.searchResult},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.searchFocus($event)}},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchHistoryShow),expression:\"searchHistoryShow\"}],staticClass:\"searchHistory\"},[_c('ul',[_vm._l((_vm.searchHistoryList),function(item,index){return _c('li',{key:index,staticClass:\"van-hairline--bottom\",on:{\"click\":function($event){$event.stopPropagation();return _vm.setSearchResult(item)}}},[_c('i',[_vm._v(_vm._s(_vm._f(\"numberFilter\")(index+1))+\".\")]),_c('p',[_vm._v(_vm._s(item))])])}),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchHistoryNone),expression:\"searchHistoryNone\"}],staticClass:\"clear\"},[_vm._v(\"暂无搜索记录\")]),_c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.searchHistoryNone),expression:\"!searchHistoryNone\"}],staticClass:\"clear\",on:{\"click\":function($event){$event.stopPropagation();return _vm.clearHistoryItems($event)}}},[_vm._v(\"清除搜索记录\")])],2)]),_c('div',{staticClass:\"searchResult\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":_vm.finishedText,\"error-text\":\"请求失败，点击重新加载\",\"offset\":\"50\"},on:{\"load\":_vm.searchResultMore},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[_c('ul',_vm._l((_vm.searchResultList),function(item,index){return _c('li',{key:index},[_c('router-link',{attrs:{\"to\":{path:'/article', name: 'Article', query: {id:item.id} }}},[_vm._v(_vm._s(_vm._f(\"numberFilter\")(index+1))+\" - \"+_vm._s(item.title)+\" - \"+_vm._s(item.author))])],1)}),0)])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _mergeJSXProps2 from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _mergeJSXProps from \"@vue/babel-helper-vue-jsx-merge-props\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n// Utils\nimport { createNamespace } from '../utils';\nimport { inherit, emit } from '../utils/functional';\nimport { preventDefault } from '../utils/dom/event'; // Components\n\nimport Field from '../field'; // Types\n\nvar _createNamespace = createNamespace('search'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1],\n    t = _createNamespace[2];\n\nfunction Search(h, props, slots, ctx) {\n  function Label() {\n    if (slots.label || props.label) {\n      return h(\"div\", {\n        \"class\": bem('label')\n      }, [slots.label ? slots.label() : props.label]);\n    }\n  }\n\n  function Action() {\n    if (!props.showAction) {\n      return;\n    }\n\n    function onCancel() {\n      if (slots.action) {\n        return;\n      }\n\n      emit(ctx, 'input', '');\n      emit(ctx, 'cancel');\n    }\n\n    return h(\"div\", {\n      \"class\": bem('action'),\n      \"attrs\": {\n        \"role\": \"button\",\n        \"tabindex\": \"0\"\n      },\n      \"on\": {\n        \"click\": onCancel\n      }\n    }, [slots.action ? slots.action() : props.actionText || t('cancel')]);\n  }\n\n  var fieldData = {\n    attrs: ctx.data.attrs,\n    on: _extends({}, ctx.listeners, {\n      keypress: function keypress(event) {\n        // press enter\n        if (event.keyCode === 13) {\n          preventDefault(event);\n          emit(ctx, 'search', props.value);\n        }\n\n        emit(ctx, 'keypress', event);\n      }\n    })\n  };\n  var inheritData = inherit(ctx);\n  inheritData.attrs = undefined;\n  return h(\"div\", _mergeJSXProps2([{\n    \"class\": bem({\n      'show-action': props.showAction\n    }),\n    \"style\": {\n      background: props.background\n    }\n  }, inheritData]), [slots.left == null ? void 0 : slots.left(), h(\"div\", {\n    \"class\": bem('content', props.shape)\n  }, [Label(), h(Field, _mergeJSXProps([{\n    \"attrs\": {\n      \"type\": \"search\",\n      \"border\": false,\n      \"value\": props.value,\n      \"leftIcon\": props.leftIcon,\n      \"rightIcon\": props.rightIcon,\n      \"clearable\": props.clearable,\n      \"clearTrigger\": props.clearTrigger\n    },\n    \"scopedSlots\": {\n      'left-icon': slots['left-icon'],\n      'right-icon': slots['right-icon']\n    }\n  }, fieldData]))]), Action()]);\n}\n\nSearch.props = {\n  value: String,\n  label: String,\n  rightIcon: String,\n  actionText: String,\n  background: String,\n  showAction: Boolean,\n  clearTrigger: String,\n  shape: {\n    type: String,\n    default: 'square'\n  },\n  clearable: {\n    type: Boolean,\n    default: true\n  },\n  leftIcon: {\n    type: String,\n    default: 'search'\n  }\n};\nexport default createComponent(Search);","<template>\r\n  <div class=\"wrapper\">\r\n    <van-nav-bar\r\n      title=\"搜索\"> \r\n    </van-nav-bar>     \r\n    <div class=\"search\">\r\n      <div class=\"searchBtn\">\r\n          <van-search v-model=\"value\" @search=\"searchResult\" @click.stop.native=\"searchFocus\" placeholder=\"请输入搜索关键词\" />\r\n      </div>\r\n      <div class=\"searchHistory\" v-show=\"searchHistoryShow\">\r\n        <ul>\r\n          <li v-for=\"(item,index) in searchHistoryList\" :key=\"index\" @click.stop=\"setSearchResult(item)\" class=\"van-hairline--bottom\"><i>{{index+1 | numberFilter}}.</i><p>{{item}}</p></li>\r\n          <li class=\"clear\" v-show=\"searchHistoryNone\">暂无搜索记录</li>\r\n          <li class=\"clear\" v-show=\"!searchHistoryNone\" @click.stop=\"clearHistoryItems\">清除搜索记录</li>\r\n        </ul>\r\n      </div>\r\n      <div class=\"searchResult\">\r\n        \r\n      <van-list\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        :finished-text=\"finishedText\"\r\n        error-text=\"请求失败，点击重新加载\"\r\n        @load=\"searchResultMore\"\r\n        offset=\"50\"\r\n      >\r\n      <ul>\r\n      <li v-for=\"(item , index) in searchResultList\" :key=\"index\">\r\n        <router-link :to=\"{path:'/article', name: 'Article', query: {id:item.id} }\">{{index+1 | numberFilter}} - {{item.title}} - {{item.author}}</router-link>\r\n      </li>\r\n      </ul>\r\n      </van-list>\r\n        \r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { NavBar, Search , Toast , List } from 'vant';\r\nexport default {\r\n  name:'Search',\r\n  components:{\r\n    [NavBar.name]:NavBar,\r\n    [Search.name]:Search,\r\n    [Toast.name]:Toast,\r\n    [List.name]:List\r\n  },\r\n  props:{},\r\n  data(){\r\n    return {\r\n      member:this.$store.state.member,\r\n      memberAuth:this.$store.state.member_auth,      \r\n      value:\"\",\r\n      searchHistoryShow:false,\r\n      searchHistoryList: JSON.parse(localStorage.getItem(\"historyItems\")) || [],\r\n      searchHistoryNone:true,\r\n      page:1,\r\n      searchResultList:this.$store.state.searchResult,\r\n      loading: false, // 是否处在加载状态\r\n      finished: true, // 是否完成加载\r\n      finishedText: '', // 加载完毕文本提示\r\n      total: 0, // 总条数      \r\n    }\r\n  },\r\n  watch:{},\r\n  computed:{},\r\n  methods:{\r\n    watchScroll(){\r\n      this.searchHistoryShow = false\r\n    },\r\n    searchFocus(){\r\n      this.searchHistoryShow = true\r\n      this.searchHistoryList.length == 0 ? this.searchHistoryNone = true : this.searchHistoryNone = false\r\n    },\r\n    searchResult(value){\r\n      if(value == \"\"){\r\n        this.$toast.fail(\"请输入的关键词\");\r\n        this.finished = true\r\n      }else{\r\n        this.appendKeywords(value)\r\n        this.searchHistoryList.length == 0 ? this.searchHistoryNone = true : this.searchHistoryNone = false\r\n        this.searchHistoryShow = false\r\n        this.upSearchResult()  \r\n      }\r\n    },\r\n    setSearchResult(value){\r\n      this.value = value\r\n      this.searchHistoryShow = false\r\n      this.upSearchResult() \r\n      this.appendKeywords(value)\r\n    },\r\n    clearHistoryItems() {\r\n      localStorage.removeItem('historyItems')\r\n      this.searchHistoryList = []\r\n      this.searchHistoryNone = true\r\n      this.searchResultList = []\r\n      this.$store.commit(\"setSearchResult\",[])\r\n    },\r\n    appendKeywords(value) {\r\n      var appendFlag = true\r\n      if (this.searchHistoryList !== null && this.searchHistoryList !== undefined && this.searchHistoryList.length > 0) {\r\n        this.searchHistoryList.forEach(function(currentValue,index,arr) {\r\n          if (currentValue === value) {\r\n            arr.splice(index,1)\r\n            arr.unshift(value)\r\n            appendFlag = false\r\n            return\r\n          }\r\n        })\r\n        if (appendFlag === true) {\r\n          if (this.searchHistoryList.length >= 10) {\r\n            this.searchHistoryList.unshift(value)\r\n            this.searchHistoryList.pop()\r\n          } else {\r\n            this.searchHistoryList.unshift(value)\r\n          }\r\n          localStorage.setItem('historyItems', JSON.stringify(this.searchHistoryList))\r\n        }\r\n      } else {\r\n        this.searchHistoryList = []\r\n        this.searchHistoryList.push(value)\r\n        localStorage.setItem('historyItems', JSON.stringify(this.searchHistoryList))\r\n      }\r\n    },\r\n    getSearchList () {\r\n      let that = this\r\n      that.axios.get(\"/api&appsecret=PHPCMF3458092B107BA&api_auth_code=\"+that.memberAuth+\"&api_auth_uid=\"+that.member.uid+\"&s=note&c=search&pagesize=8&catid=9&uid=\"+that.member.uid+\"&page=\"+that.page+\"&keyword=\"+that.value\r\n      ).then(function (res) {\r\n        if (res.status == 200) {\r\n          that.total = res.data.data.sototal;\r\n          if (that.page == 1) { // 首次获取收据\r\n            that.searchResultList = res.data.data.list \r\n            that.$store.dispatch('setSearchResult',that.searchResultList)\r\n          } else { // 下拉加载更多数据\r\n            that.searchResultList = that.searchResultList.concat(res.data.data.list)\r\n            that.$store.dispatch('setSearchResult',that.searchResultList)\r\n          }\r\n          that.loading = false\r\n          if (res.data.data.list.length == 0) { // 无数据提示\r\n            that.finished = true;\r\n            that.finishedText = '暂无数据';\r\n          } else if (that.searchResultList.length == that.total) {\r\n            that.finished = true;\r\n            that.finishedText = '没有更多啦';\r\n          }\r\n        } else { // 失败报错\r\n        }               \r\n      })\r\n      .catch(function (err) {\r\n        console.log(err);\r\n      });\r\n    },\r\n    searchResultMore () {\r\n      if(this.memberAuth !== \"\"){\r\n        this.getSearchList();\r\n        this.page++;\r\n      }else{\r\n        this.finished = true\r\n      }\r\n    },\r\n    upSearchResult(){\r\n        this.searchResultList = []\r\n        this.loading = true\r\n        this.finished = false\r\n        this.page = 1\r\n        this.total = 0\r\n        this.searchResultMore ()   \r\n    }\r\n  },\r\n  created(){},\r\n  mounted(){\r\n    document.body.addEventListener('click',()=>{\r\n        this.searchHistoryShow = false;\r\n    },false),\r\n    window.addEventListener('scroll', this.watchScroll, true)    \r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.wrapper {\r\n  .search {\r\n    position: relative;\r\n    padding:15px;\r\n    .searchBtn {\r\n      transition: all 0.2s ease-out 0s;\r\n      width: 100%;\r\n      height: 54px;\r\n      display:flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      .van-search {\r\n        width: 100%;\r\n      }\r\n    }\r\n    .searchHistory {\r\n      position: absolute;\r\n      left: 15px;\r\n      right: 15px;\r\n      top:69px;\r\n      background: #fff;\r\n      padding:0 10px 10px;\r\n      li {\r\n        background: #fff;\r\n        padding:5px 10px;\r\n        line-height: 20px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: flex-start;\r\n        font-size: 14px;\r\n        color: #666;\r\n        i {\r\n          flex: 0 0 30px;\r\n        }\r\n        p{\r\n          flex:1;\r\n          overflow: hidden;\r\n          white-space: nowrap;\r\n          text-overflow: ellipsis;          \r\n        }\r\n        &.clear {\r\n          justify-content: center;\r\n        }\r\n      }\r\n    }\r\n    .searchResult{\r\n      height: calc(100vh - 190px);\r\n      overflow-x: auto;\r\n      li{\r\n        font-size: 15px;\r\n        padding: 15px;\r\n        color: #666;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        border-radius: 10px;\r\n        background: #fff;\r\n        margin-top:15px;\r\n        a {\r\n          color: #666;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Search.vue?vue&type=template&id=d110bf8c&scoped=true&\"\nimport script from \"./Search.vue?vue&type=script&lang=js&\"\nexport * from \"./Search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Search.vue?vue&type=style&index=0&id=d110bf8c&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d110bf8c\",\n  null\n  \n)\n\nexport default component.exports","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n"],"sourceRoot":""}